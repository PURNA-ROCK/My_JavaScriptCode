<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title></title>
    <style type="text/css">
        * {
            margin: 0;
            padding: 0;
        }

        #txt {
            width: 200px;
            height: 200px;
            border: 1px solid #ccc;
        }

        #ul {
            width: 300px;
            height: 300px;
            border: 1px solid #000;
            margin: 0 auto;
        }

        #ul li {
            list-style: none;
            border-bottom: 1px dashed #ccc;
            padding: 2px;
            opacity: 0;
            filter: alpha(opacity=0);
        }
    </style>
</head>
<body>
<textarea name="" rows="10" cols="40" id="txt"></textarea>
<input type="button" name="btn" id="btn" value="发布"/>
<ul id="ul">
    <li>fdfk</li>
</ul>
</body>
</html>
<script src="../../animate/sport4.js"></script>
<script src="tools.js"></script>
<script type="text/javascript">
    var btn = $("btn");
    var txt = $("txt");
    var oUl = $("ul");

    btn.onclick = function () {
        var val = txt.value;
        var oLi = document.createElement("li");
        oLi.innerHTML = val;
        oUl.insertBefore(oLi, oUl.children[0]);
        var h = oLi.offsetHeight;
        // 让新创建的li透明度变为1
        move(oLi, {"height": h}, function () {
            move(oLi, {"opacity": 100})
        });
    }
</script>